{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zero1/service-marketplace/app/marketplace/page.js"],"sourcesContent":["'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function Marketplace() {\r\n  const router = useRouter();\r\n  const [services, setServices] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [user, setUser] = useState(null);\r\n  const [filter, setFilter] = useState('all');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  useEffect(() => {\r\n    const userData = localStorage.getItem('user');\r\n    if (userData) {\r\n      setUser(JSON.parse(userData));\r\n    }\r\n\r\n    fetch('/api/services')\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        setServices(data.services || []);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => setLoading(false));\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    router.push('/');\r\n  };\r\n\r\n  const categories = ['all', 'Plumbing', 'Electrical', 'Cleaning', 'Tutoring', 'Carpentry', 'Other'];\r\n\r\n  const filteredServices = services.filter(service => {\r\n    const matchesFilter = filter === 'all' || service.category === filter;\r\n    const matchesSearch = service.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                         service.description.toLowerCase().includes(searchQuery.toLowerCase());\r\n    return matchesFilter && matchesSearch;\r\n  });\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#0F1419]\">\r\n      {/* Navigation */}\r\n      <nav className=\"shadow-xl sticky top-0 z-50\" style={{backgroundColor: '#131A22'}}>\r\n        <div className=\"max-w-7xl mx-auto px-4 py-4\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <Link href=\"/\" className=\"flex items-center gap-3 hover:opacity-90 transition\">\r\n              <div className=\"w-12 h-12 rounded-xl flex items-center justify-center text-xl font-black\" style={{backgroundColor: '#FEBD69', color: '#131A22'}}>\r\n                SM\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-2xl font-black text-white\">Service Marketplace</h1>\r\n                <p className=\"text-xs font-semibold\" style={{color: '#FEBD69'}}>Browse Services</p>\r\n              </div>\r\n            </Link>\r\n\r\n            <div className=\"flex items-center gap-6\">\r\n              {user ? (\r\n                <>\r\n                  <div className=\"flex items-center gap-3 px-4 py-2 rounded-lg bg-[#232F3E]\">\r\n                    {user.profile_image ? (\r\n                      <img\r\n                        src={user.profile_image}\r\n                        alt={user.name}\r\n                        className=\"w-10 h-10 rounded-lg object-cover\"\r\n                      />\r\n                    ) : (\r\n                      <div className=\"w-10 h-10 rounded-lg flex items-center justify-center font-bold text-lg bg-[#FEBD69] text-[#131A22]\">\r\n                        {user.name.charAt(0).toUpperCase()}\r\n                      </div>\r\n                    )}\r\n                    <div className=\"text-white\">\r\n                      <div className=\"font-bold\">{user.name}</div>\r\n                      <div className=\"text-xs capitalize text-[#FEBD69]\">{user.role}</div>\r\n                    </div>\r\n                  </div>\r\n                  <Link href=\"/dashboard\" className=\"px-6 py-2.5 rounded-lg font-bold text-white hover:bg-white hover:text-black transition\">\r\n                    Dashboard\r\n                  </Link>\r\n                  <Link href=\"/messages\" className=\"flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-white hover:text-[#FEBD69] transition\">\r\n                    <span>üí¨</span>\r\n                    <span className=\"text-sm\">Messages</span>\r\n                  </Link>\r\n                  <Link href=\"/profile\" className=\"flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-white hover:text-[#FEBD69] transition\">\r\n                    <span>üë§</span>\r\n                    <span className=\"text-sm\">Profile</span>\r\n                  </Link>\r\n                  <button onClick={handleLogout} className=\"px-5 py-2.5 rounded-lg font-bold text-[#131A22] bg-[#FEBD69] hover:bg-[#e5a958] transition\">\r\n                    Logout\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Link href=\"/register\" className=\"px-6 py-2.5 rounded-lg font-bold bg-white hover:opacity-90 transition\" style={{color: '#131A22'}}>\r\n                    Register\r\n                  </Link>\r\n                  <Link href=\"/login\" className=\"px-6 py-2.5 rounded-xl font-bold text-black hover:scale-105 transition\" style={{backgroundColor: '#FEBD69'}}>\r\n                    Login\r\n                  </Link>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Hero Section */}\r\n      <div className=\"py-16 relative overflow-hidden\" style={{background: 'linear-gradient(135deg, #232F3E 0%, #37475A 100%)'}}>\r\n        <div className=\"max-w-7xl mx-auto px-4 text-center relative\">\r\n          <h2 className=\"text-5xl font-black text-white mb-4\">üè™ Service Marketplace</h2>\r\n          <p className=\"text-xl text-gray-300 mb-8\">Browse and book from hundreds of verified service providers</p>\r\n          \r\n          {/* Search Bar */}\r\n          <div className=\"max-w-2xl mx-auto\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"üîç Search services, providers, or categories...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"w-full px-6 py-4 rounded-xl text-lg font-semibold text-white focus:outline-none focus:ring-4 shadow-lg\"\r\n              style={{borderColor: '#FEBD69'}}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 py-12\">\r\n        {/* Category Filter */}\r\n        <div className=\"mb-8\">\r\n          <h3 className=\"text-2xl font-black mb-4 text-white\">Categories</h3>\r\n          <div className=\"flex flex-wrap gap-3\">\r\n            {categories.map(cat => (\r\n              <button\r\n                key={cat}\r\n                onClick={() => setFilter(cat)}\r\n                className={`px-6 py-3 rounded-xl font-bold transition hover:scale-105 ${\r\n                  filter === cat ? 'text-black shadow-lg' : 'bg-[#232F3E] text-white border border-[#37475A] hover:bg-[#37475A]'\r\n                }`}\r\n                style={filter === cat ? {backgroundColor: '#FEBD69'} : {}}\r\n              >\r\n                {cat === 'all' ? 'üè™ All Services' : cat}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Results Count */}\r\n        <div className=\"mb-6\">\r\n          <p className=\"text-lg font-bold text-gray-300\">\r\n            Showing {filteredServices.length} service{filteredServices.length !== 1 ? 's' : ''}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Services Grid */}\r\n        {loading ? (\r\n          <div className=\"text-center py-20\">\r\n            <div className=\"inline-block w-16 h-16 border-4 rounded-full animate-spin mb-4\" style={{borderColor: '#FEBD69', borderTopColor: 'transparent'}}></div>\r\n            <p className=\"text-xl font-bold\" style={{color: '#37475A'}}>Loading services...</p>\r\n          </div>\r\n        ) : filteredServices.length === 0 ? (\r\n          <div className=\"text-center py-20 bg-[#232F3E] rounded-2xl shadow-lg border border-[#37475A]\">\r\n            <div className=\"text-8xl mb-6\">üîç</div>\r\n            <h4 className=\"text-3xl font-black mb-4 text-white\">No Services Found</h4>\r\n            <p className=\"text-xl mb-8 text-gray-300\">\r\n              {searchQuery ? 'Try a different search term' : 'Be the first to list a service!'}\r\n            </p>\r\n            {!searchQuery && (\r\n              <Link href=\"/register\" className=\"inline-block px-8 py-4 rounded-xl font-bold text-black hover:scale-105 transition shadow-lg\" style={{backgroundColor: '#FEBD69'}}>\r\n                Register as Provider ‚Üí\r\n              </Link>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n            {filteredServices.map((service) => (\r\n              <div\r\n                key={service.id}\r\n                className=\"bg-gray-50 rounded-2xl shadow-lg hover:shadow-2xl transition-all overflow-hidden group border-2 hover:border-yellow-400 hover:-translate-y-2\"\r\n                style={{borderColor: '#E5E7EB'}}\r\n              >\r\n                <div className=\"h-2 group-hover:h-3 transition-all\" style={{background: 'linear-gradient(90deg, #FEBD69, #FFD700)'}}></div>\r\n                <div className=\"p-6\">\r\n                  <div className=\"flex items-start justify-between mb-3\">\r\n                    <h4 className=\"text-2xl font-black group-hover:text-yellow-600 transition\" style={{color: '#131A22'}}>\r\n                      {service.title}\r\n                    </h4>\r\n                    <span className=\"px-3 py-1.5 rounded-lg text-xs font-black text-white whitespace-nowrap\" style={{backgroundColor: '#232F3E'}}>\r\n                      {service.category}\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <p className=\"mb-6 line-clamp-2 text-gray-600 font-semibold\">{service.description}</p>\r\n                  \r\n                  <div className=\"flex items-center gap-3 mb-6 pb-6 border-b-2\" style={{borderColor: '#F3F3F3'}}>\r\n                    <div className=\"w-12 h-12 rounded-lg flex items-center justify-center font-bold text-lg bg-[#FEBD69] text-[#131A22]\">\r\n                      {service.profile_image ? (\r\n                        <img\r\n                          src={service.profile_image}\r\n                          alt={service.provider_name}\r\n                          className=\"w-full h-full rounded-lg object-cover\"\r\n                        />\r\n                      ) : (\r\n                        service.provider_name.charAt(0).toUpperCase()\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      <Link href={`/users/${service.provider_id}`} className=\"font-bold hover:underline\" style={{color: '#131A22'}}>\r\n                        {service.provider_name}\r\n                      </Link>\r\n                      <div className=\"text-sm font-semibold\" style={{color: '#37475A'}}>‚≠ê Verified Provider</div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                      <div className=\"text-3xl font-black\" style={{color: '#FEBD69'}}>‚Ç±{service.hourly_rate}</div>\r\n                      <div className=\"text-sm font-bold\" style={{color: '#37475A'}}>per hour</div>\r\n                    </div>\r\n                    <Link \r\n                      href={`/services/${service.id}`} \r\n                      className=\"px-6 py-3 rounded-lg font-black text-black hover:scale-105 transition shadow-lg\"\r\n                      style={{backgroundColor: '#FEBD69'}}\r\n                    >\r\n                      View Details ‚Üí\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"py-12 mt-20\" style={{backgroundColor: '#131A22'}}>\r\n        <div className=\"max-w-7xl mx-auto px-4\">\r\n          <div className=\"flex items-center justify-center gap-3 mb-4\">\r\n            <div className=\"w-12 h-12 rounded-lg flex items-center justify-center text-xl font-bold\" style={{backgroundColor: '#FEBD69', color: '#131A22'}}>\r\n              SM\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-white\">Service Marketplace</p>\r\n          </div>\r\n          <p className=\"text-center text-gray-400 mb-2\">Premium local services at your fingertips</p>\r\n          <p className=\"text-center text-sm text-gray-500\">¬© 2024 Service Marketplace. All rights reserved.</p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}