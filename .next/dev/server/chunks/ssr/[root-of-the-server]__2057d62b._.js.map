{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zero1/service-marketplace/app/messages/page.js"],"sourcesContent":["'use client';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function MessagesPage() {\r\n  const router = useRouter();\r\n  const [user, setUser] = useState(null);\r\n  const [conversations, setConversations] = useState([]);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [sending, setSending] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const userData = localStorage.getItem('user');\r\n    if (!userData) {\r\n      router.push('/login');\r\n      return;\r\n    }\r\n    const parsedUser = JSON.parse(userData);\r\n\r\n    // Fetch fresh user data from database\r\n    const fetchUserData = async () => {\r\n      try {\r\n        const res = await fetch(`/api/users/${parsedUser.id}`);\r\n        const data = await res.json();\r\n        if (data.user) {\r\n          setUser(data.user);\r\n          localStorage.setItem('user', JSON.stringify(data.user));\r\n          fetchConversations(data.user.id);\r\n        } else {\r\n          setUser(parsedUser);\r\n          fetchConversations(parsedUser.id);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching user:', error);\r\n        setUser(parsedUser);\r\n        fetchConversations(parsedUser.id);\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n\r\n    // Listen for profile updates\r\n    const handleProfileUpdate = () => {\r\n      fetchUserData();\r\n    };\r\n\r\n    window.addEventListener('userProfileUpdated', handleProfileUpdate);\r\n\r\n    return () => {\r\n      window.removeEventListener('userProfileUpdated', handleProfileUpdate);\r\n    };\r\n  }, [router]);\r\n\r\n  useEffect(() => {\r\n    if (selectedUser) {\r\n      fetchMessages(user.id, selectedUser.user_id);\r\n      const interval = setInterval(() => {\r\n        fetchMessages(user.id, selectedUser.user_id);\r\n      }, 3000); // Refresh every 3 seconds\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [selectedUser, user]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const fetchConversations = async (userId) => {\r\n    try {\r\n      const res = await fetch(`/api/messages?userId=${userId}`);\r\n      const data = await res.json();\r\n      setConversations(data.conversations || []);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching conversations:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchMessages = async (userId, conversationWith) => {\r\n    try {\r\n      const res = await fetch(`/api/messages?userId=${userId}&conversationWith=${conversationWith}`);\r\n      const data = await res.json();\r\n      setMessages(data.messages || []);\r\n    } catch (error) {\r\n      console.error('Error fetching messages:', error);\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (!newMessage.trim() || !selectedUser) return;\r\n\r\n    setSending(true);\r\n    try {\r\n      const res = await fetch('/api/messages', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          sender_id: user.id,\r\n          receiver_id: selectedUser.user_id,\r\n          message: newMessage\r\n        })\r\n      });\r\n\r\n      if (res.ok) {\r\n        setNewMessage('');\r\n        fetchMessages(user.id, selectedUser.user_id);\r\n        fetchConversations(user.id);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    router.push('/');\r\n  };\r\n\r\n  if (loading || !user) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\" style={{background: 'linear-gradient(135deg, #232F3E 0%, #131A22 100%)'}}>\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 border-4 rounded-full animate-spin mb-4\" style={{borderColor: '#FEBD69', borderTopColor: 'transparent'}}></div>\r\n          <p className=\"text-white text-xl font-bold\">Loading messages...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#0F1419]\">\r\n      {/* Navigation */}\r\n      <nav className=\"shadow-xl\" style={{backgroundColor: '#131A22'}}>\r\n        <div className=\"max-w-7xl mx-auto px-4 py-3\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <Link href=\"/\" className=\"flex items-center gap-3 hover:opacity-90 transition\">\r\n              <div className=\"w-12 h-12 rounded-xl flex items-center justify-center text-xl font-black\" style={{backgroundColor: '#FEBD69', color: '#131A22'}}>\r\n                SM\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-xl font-black text-white\">Service Marketplace</h1>\r\n                <p className=\"text-xs font-semibold\" style={{color: '#FEBD69'}}>Messages</p>\r\n              </div>\r\n            </Link>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"flex items-center gap-3 px-4 py-2 rounded-xl\" style={{backgroundColor: '#232F3E'}}>\r\n                {user.profile_image ? (\r\n                  <img\r\n                    src={user.profile_image}\r\n                    alt={user.name}\r\n                    className=\"w-10 h-10 rounded-lg object-cover\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"w-10 h-10 rounded-lg flex items-center justify-center font-bold text-lg text-black\" style={{backgroundColor: '#FEBD69'}}>\r\n                    {user.name.charAt(0).toUpperCase()}\r\n                  </div>\r\n                )}\r\n                <div className=\"text-white\">\r\n                  <div className=\"font-bold text-sm\">{user.name}</div>\r\n                  <div className=\"text-xs capitalize\" style={{color: '#FEBD69'}}>{user.role}</div>\r\n                </div>\r\n              </div>\r\n              <Link href=\"/dashboard\" className=\"px-5 py-2.5 rounded-lg font-bold text-white hover:text-[#FEBD69] transition\">\r\n                Dashboard\r\n              </Link>\r\n              <button onClick={handleLogout} className=\"px-5 py-2.5 rounded-xl font-bold text-black hover:scale-105 transition\" style={{backgroundColor: '#FEBD69'}}>\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Messages Layout */}\r\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n        <div className=\"bg-[#131A22] rounded-2xl shadow-2xl overflow-hidden border border-[#232F3E]\" style={{height: 'calc(100vh - 200px)'}}>\r\n          <div className=\"flex h-full\">\r\n            {/* Conversations List */}\r\n            <div className=\"w-1/3 border-r-2 flex-shrink-0\" style={{borderColor: '#232F3E'}}>\r\n              <div className=\"p-6 border-b-2\" style={{borderColor: '#232F3E', backgroundColor: '#FEBD69'}}>\r\n                <h2 className=\"text-2xl font-black\" style={{color: '#131A22'}}>üí¨ Conversations</h2>\r\n              </div>\r\n\r\n              <div className=\"overflow-y-auto\" style={{height: 'calc(100% - 80px)'}}>\r\n                {conversations.length === 0 ? (\r\n                  <div className=\"p-8 text-center\">\r\n                    <div className=\"text-6xl mb-4\">üì≠</div>\r\n                    <p className=\"font-bold text-lg text-gray-300\">No conversations yet</p>\r\n                    <p className=\"text-sm mt-2 text-gray-400\">Start by messaging a provider</p>\r\n                  </div>\r\n                ) : (\r\n                  conversations.map(conv => (\r\n                    <div\r\n                      key={conv.user_id}\r\n                      onClick={() => setSelectedUser(conv)}\r\n                      className={`p-4 border-b cursor-pointer transition hover:bg-[#232F3E] ${\r\n                        selectedUser?.user_id === conv.user_id ? 'border-l-4' : ''\r\n                      }`}\r\n                      style={selectedUser?.user_id === conv.user_id ? {\r\n                        backgroundColor: '#37475A',\r\n                        borderLeftColor: '#FEBD69'\r\n                      } : {}}\r\n                    >\r\n                      <div className=\"flex items-center gap-3\">\r\n                        {conv.user_profile_image ? (\r\n                          <img\r\n                            src={conv.user_profile_image}\r\n                            alt={conv.user_name}\r\n                            className=\"w-12 h-12 rounded-full object-cover\"\r\n                          />\r\n                        ) : (\r\n                          <div className=\"w-12 h-12 rounded-full flex items-center justify-center font-bold text-white\" style={{backgroundColor: '#232F3E'}}>\r\n                            {conv.user_name.charAt(0).toUpperCase()}\r\n                          </div>\r\n                        )}\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <h3 className=\"font-bold truncate text-white\">{conv.user_name}</h3>\r\n                            {conv.unread_count > 0 && (\r\n                              <span className=\"px-2 py-1 rounded-full text-xs font-black text-white\" style={{backgroundColor: '#FEBD69', color: '#131A22'}}>\r\n                                {conv.unread_count}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                          <p className=\"text-sm truncate text-gray-300\">\r\n                            {conv.last_message || 'No messages yet'}\r\n                          </p>\r\n                          {conv.last_message_time && (\r\n                            <p className=\"text-xs mt-1 text-gray-400\">\r\n                              {new Date(conv.last_message_time).toLocaleString()}\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Chat Area */}\r\n            <div className=\"flex-1 flex flex-col\">\r\n              {selectedUser ? (\r\n                <>\r\n                  {/* Chat Header */}\r\n                  <div className=\"p-6 border-b-2 flex items-center justify-between\" style={{borderColor: '#F3F3F3', backgroundColor: '#232F3E'}}>\r\n                    <Link href={`/users/${selectedUser.user_id}`} className=\"flex items-center gap-3 hover:opacity-80 transition cursor-pointer\">\r\n                      {selectedUser.user_profile_image ? (\r\n                        <img\r\n                          src={selectedUser.user_profile_image}\r\n                          alt={selectedUser.user_name}\r\n                          className=\"w-12 h-12 rounded-full object-cover\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"w-12 h-12 rounded-full flex items-center justify-center font-bold text-black\" style={{backgroundColor: '#FEBD69'}}>\r\n                          {selectedUser.user_name.charAt(0).toUpperCase()}\r\n                        </div>\r\n                      )}\r\n                      <div>\r\n                        <h3 className=\"font-black text-white\">{selectedUser.user_name}</h3>\r\n                        <p className=\"text-sm\" style={{color: '#FEBD69'}}>{selectedUser.user_email}</p>\r\n                      </div>\r\n                    </Link>\r\n                  </div>\r\n\r\n                  {/* Messages */}\r\n                  <div className=\"flex-1 overflow-y-auto p-6 space-y-4 bg-[#0F1419]\">\r\n                    {messages.map((msg) => (\r\n                      <div\r\n                        key={msg.id}\r\n                        className={`flex ${msg.sender_id === user.id ? 'justify-end' : 'justify-start'}`}\r\n                      >\r\n                        <div\r\n                          className={`max-w-md px-6 py-3 rounded-2xl shadow-md ${\r\n                            msg.sender_id === user.id\r\n                              ? 'rounded-br-none'\r\n                              : 'rounded-bl-none'\r\n                          }`}\r\n                          style={msg.sender_id === user.id ? {\r\n                            backgroundColor: '#FEBD69',\r\n                            color: '#131A22'\r\n                          } : {\r\n                            backgroundColor: '#232F3E',\r\n                            color: 'white'\r\n                          }}\r\n                        >\r\n                          <p className=\"font-semibold break-words\">{msg.message}</p>\r\n                          <p className=\"text-xs mt-2 opacity-75\">\r\n                            {new Date(msg.created_at).toLocaleTimeString([], {\r\n                              hour: '2-digit',\r\n                              minute: '2-digit'\r\n                            })}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                    <div ref={messagesEndRef} />\r\n                  </div>\r\n\r\n                  {/* Message Input */}\r\n                  <form onSubmit={handleSendMessage} className=\"p-6 border-t-2\" style={{borderColor: '#F3F3F3'}}>\r\n                    <div className=\"flex gap-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value={newMessage}\r\n                        onChange={(e) => setNewMessage(e.target.value)}\r\n                        placeholder=\"Type your message...\"\r\n                        className=\"flex-1 px-6 py-4 rounded-xl border-2 focus:outline-none focus:border-yellow-400 font-semibold text-white\"\r\n                        style={{borderColor: '#E5E7EB'}}\r\n                        disabled={sending}\r\n                      />\r\n                      <button\r\n                        type=\"submit\"\r\n                        disabled={sending || !newMessage.trim()}\r\n                        className=\"px-8 py-4 rounded-xl font-black text-black hover:scale-105 transition shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                        style={{backgroundColor: '#FEBD69'}}\r\n                      >\r\n                        {sending ? '‚è≥' : 'üì§ Send'}\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </>\r\n              ) : (\r\n                <div className=\"flex-1 flex items-center justify-center\">\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-8xl mb-6\">üí¨</div>\r\n                    <h3 className=\"text-3xl font-black mb-2 text-white\">Select a Conversation</h3>\r\n                    <p className=\"text-lg text-gray-300\">Choose a conversation to start messaging</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}