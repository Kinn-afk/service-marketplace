{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/zero1/service-marketplace/app/dashboard/page.js"],"sourcesContent":["'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function Dashboard() {\r\n  const router = useRouter();\r\n  const [user, setUser] = useState(null);\r\n  const [bookings, setBookings] = useState([]);\r\n  const [services, setServices] = useState([]);\r\n  const [stats, setStats] = useState({ total: 0, pending: 0, confirmed: 0, completed: 0 });\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [workPhotos, setWorkPhotos] = useState({});\r\n  const [uploadingPhotos, setUploadingPhotos] = useState({});\r\n  const [reviewModal, setReviewModal] = useState({ open: false, booking: null });\r\n  const [reviewData, setReviewData] = useState({ rating: 5, comment: '' });\r\n  const [submittingReview, setSubmittingReview] = useState(false);\r\n  const [conversations, setConversations] = useState([]);\r\n  const [selectedConversation, setSelectedConversation] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [sendingMessage, setSendingMessage] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const userData = localStorage.getItem('user');\r\n    if (!userData) {\r\n      router.push('/login');\r\n      return;\r\n    }\r\n    const parsedUser = JSON.parse(userData);\r\n    setUser(parsedUser);\r\n    fetchData(parsedUser);\r\n\r\n    // Listen for profile updates\r\n    const handleProfileUpdate = () => {\r\n      const updatedUserData = localStorage.getItem('user');\r\n      if (updatedUserData) {\r\n        const updatedUser = JSON.parse(updatedUserData);\r\n        setUser(updatedUser);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('userProfileUpdated', handleProfileUpdate);\r\n\r\n    return () => {\r\n      window.removeEventListener('userProfileUpdated', handleProfileUpdate);\r\n    };\r\n  }, [router]);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'bookings' && user && bookings.length > 0) {\r\n      // Fetch work photos for completed bookings\r\n      const completedBookings = bookings.filter(b => b.status === 'completed');\r\n      completedBookings.forEach(booking => {\r\n        fetchWorkPhotos(booking.id);\r\n      });\r\n    }\r\n  }, [activeTab, user, bookings]);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'messages' && user) {\r\n      fetchConversations();\r\n    }\r\n  }, [activeTab, user]);\r\n\r\n  const fetchData = async (userData) => {\r\n    try {\r\n      const bookingsRes = await fetch(`/api/bookings?userId=${userData.id}`);\r\n      const bookingsData = await bookingsRes.json();\r\n      const userBookings = bookingsData.bookings || [];\r\n      setBookings(userBookings);\r\n\r\n      setStats({\r\n        total: userBookings.length,\r\n        pending: userBookings.filter(b => b.status === 'pending').length,\r\n        confirmed: userBookings.filter(b => b.status === 'confirmed').length,\r\n        completed: userBookings.filter(b => b.status === 'completed').length\r\n      });\r\n\r\n      if (userData.role === 'provider') {\r\n        const servicesRes = await fetch('/api/services');\r\n        const servicesData = await servicesRes.json();\r\n        const myServices = servicesData.services?.filter(s => s.provider_id === userData.id) || [];\r\n        setServices(myServices);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleStatusUpdate = async (bookingId, newStatus) => {\r\n    try {\r\n      const res = await fetch('/api/bookings', {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ bookingId, status: newStatus })\r\n      });\r\n\r\n      if (res.ok) {\r\n        fetchData(user);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating booking:', error);\r\n    }\r\n  };\r\n\r\n  const handlePhotoUpload = async (bookingId, file) => {\r\n    if (!file) return;\r\n\r\n    setUploadingPhotos(prev => ({ ...prev, [bookingId]: true }));\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n\r\n      // First upload the file\r\n      const uploadRes = await fetch('/api/upload', {\r\n        method: 'POST',\r\n        body: formData\r\n      });\r\n\r\n      if (!uploadRes.ok) {\r\n        throw new Error('File upload failed');\r\n      }\r\n\r\n      const uploadData = await uploadRes.json();\r\n      const photoUrl = uploadData.url;\r\n\r\n      // Then save the photo record\r\n      const photoRes = await fetch('/api/photos', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          booking_id: bookingId,\r\n          uploaded_by: user.id,\r\n          photo_url: photoUrl,\r\n          caption: ''\r\n        })\r\n      });\r\n\r\n      if (photoRes.ok) {\r\n        // Refresh work photos for this booking\r\n        fetchWorkPhotos(bookingId);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error uploading photo:', error);\r\n    } finally {\r\n      setUploadingPhotos(prev => ({ ...prev, [bookingId]: false }));\r\n    }\r\n  };\r\n\r\n  const fetchWorkPhotos = async (bookingId) => {\r\n    try {\r\n      const res = await fetch(`/api/photos?bookingId=${bookingId}`);\r\n      const data = await res.json();\r\n      setWorkPhotos(prev => ({ ...prev, [bookingId]: data.photos || [] }));\r\n    } catch (error) {\r\n      console.error('Error fetching work photos:', error);\r\n    }\r\n  };\r\n\r\n  const handleReviewSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!reviewModal.booking) return;\r\n\r\n    setSubmittingReview(true);\r\n    try {\r\n      const res = await fetch('/api/reviews', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          booking_id: reviewModal.booking.id,\r\n          customer_id: user.id,\r\n          provider_id: reviewModal.booking.provider_id,\r\n          rating: reviewData.rating,\r\n          comment: reviewData.comment\r\n        })\r\n      });\r\n\r\n      if (res.ok) {\r\n        setReviewModal({ open: false, booking: null });\r\n        setReviewData({ rating: 5, comment: '' });\r\n        fetchData(user); // Refresh data to update any review status\r\n      } else {\r\n        const error = await res.json();\r\n        alert(error.error || 'Failed to submit review');\r\n      }\r\n    } catch (error) {\r\n      console.error('Review submission error:', error);\r\n      alert('Failed to submit review. Please try again.');\r\n    } finally {\r\n      setSubmittingReview(false);\r\n    }\r\n  };\r\n\r\n  const fetchConversations = async () => {\r\n    try {\r\n      const res = await fetch(`/api/messages?userId=${user.id}`);\r\n      const data = await res.json();\r\n      setConversations(data.conversations || []);\r\n    } catch (error) {\r\n      console.error('Error fetching conversations:', error);\r\n    }\r\n  };\r\n\r\n  const fetchMessages = async (conversationId) => {\r\n    try {\r\n      const res = await fetch(`/api/messages?userId=${user.id}&conversationId=${conversationId}`);\r\n      const data = await res.json();\r\n      setMessages(data.messages || []);\r\n    } catch (error) {\r\n      console.error('Error fetching messages:', error);\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (!newMessage.trim() || !selectedConversation) return;\r\n\r\n    setSendingMessage(true);\r\n    try {\r\n      const res = await fetch('/api/messages', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          sender_id: user.id,\r\n          receiver_id: selectedConversation.other_user_id,\r\n          message: newMessage.trim()\r\n        })\r\n      });\r\n\r\n      if (res.ok) {\r\n        setNewMessage('');\r\n        fetchMessages(selectedConversation.other_user_id);\r\n        fetchConversations(); // Refresh conversations to update last message\r\n      } else {\r\n        alert('Failed to send message');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      alert('Failed to send message. Please try again.');\r\n    } finally {\r\n      setSendingMessage(false);\r\n    }\r\n  };\r\n\r\n  const formatDateTime = (dateObj, timeStr) => {\r\n    let date;\r\n\r\n    // If dateObj is already a full ISO string, use it directly\r\n    if (typeof dateObj === 'string' && dateObj.includes('T')) {\r\n      date = new Date(dateObj);\r\n    } else {\r\n      // Otherwise, combine date and time\r\n      const dateTimeString = `${dateObj}T${timeStr}`;\r\n      date = new Date(dateTimeString);\r\n    }\r\n\r\n    const dateOptions = {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    };\r\n    const formattedDate = date.toLocaleDateString('en-US', dateOptions);\r\n\r\n    const timeOptions = {\r\n      hour: 'numeric',\r\n      minute: '2-digit',\r\n      hour12: true\r\n    };\r\n    const formattedTime = date.toLocaleTimeString('en-US', timeOptions);\r\n\r\n    return { date: formattedDate, time: formattedTime };\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    router.push('/');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-[#0F1419]\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block w-16 h-16 border-4 rounded-full animate-spin mb-4 border-[#FEBD69] border-t-transparent\"></div>\r\n          <p className=\"text-white text-xl font-semibold\">Loading your dashboard...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#0F1419]\">\r\n      {/* Navigation */}\r\n      <nav className=\"bg-[#131A22] border-b border-[#232F3E]\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-4\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <Link href=\"/\" className=\"flex items-center gap-3 hover:opacity-90 transition\">\r\n              <div className=\"w-12 h-12 rounded-lg flex items-center justify-center text-xl font-bold bg-[#FEBD69] text-[#131A22]\">\r\n                SM\r\n              </div>\r\n              <h1 className=\"text-2xl font-bold text-white\">Service Marketplace</h1>\r\n            </Link>\r\n            <div className=\"flex items-center gap-6\">\r\n              <div className=\"flex items-center gap-3 px-4 py-2 rounded-lg bg-[#232F3E]\">\r\n                <div className=\"w-10 h-10 rounded-lg flex items-center justify-center font-bold text-lg bg-[#FEBD69] text-[#131A22]\">\r\n                  {user.name.charAt(0).toUpperCase()}\r\n                </div>\r\n                <div className=\"text-white\">\r\n                  <div className=\"font-bold\">{user.name}</div>\r\n                  <div className=\"text-xs capitalize text-[#FEBD69]\">{user.role}</div>\r\n                </div>\r\n              </div>\r\n              <Link href=\"/\" className=\"text-white hover:text-[#FEBD69] transition font-semibold\">\r\n                Home\r\n              </Link>\r\n\r\n              <Link href=\"/messages\" className=\"flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-white hover:bg-white hover:text-black transition\">\r\n                <span>üí¨</span>\r\n                <span className=\"text-sm\">Messages</span>\r\n              </Link>\r\n              <Link href=\"/profile\" className=\"flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-white hover:bg-white hover:text-black transition\">\r\n                <span>üë§</span>\r\n                <span className=\"text-sm\">Profile</span>\r\n              </Link>\r\n              <button onClick={handleLogout} className=\"px-5 py-2.5 rounded-lg font-bold text-[#131A22] bg-[#FEBD69] hover:bg-[#e5a958] transition\">\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Header */}\r\n      <div className=\"bg-[#131A22] border-b border-[#232F3E]\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n          <h1 className=\"text-4xl font-bold text-white mb-2\">\r\n            Welcome back, <span className=\"text-[#FEBD69]\">{user.name}</span>!\r\n          </h1>\r\n          <p className=\"text-lg text-gray-300\">\r\n            {user.role === 'provider' ? 'Manage your services and grow your business' : 'Track bookings and discover new services'}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n          {[\r\n            { label: 'Total Bookings', value: stats.total, icon: 'üìã', bg: 'bg-[#FEBD69]', text: 'text-[#131A22]' },\r\n            { label: 'Pending', value: stats.pending, icon: '‚è≥', bg: 'bg-[#232F3E]', text: 'text-white' },\r\n            { label: 'Confirmed', value: stats.confirmed, icon: '‚úÖ', bg: 'bg-[#37475A]', text: 'text-white' },\r\n            { label: 'Completed', value: stats.completed, icon: 'üéâ', bg: 'bg-green-700', text: 'text-white' }\r\n          ].map((stat, i) => (\r\n            <div key={i} className={`rounded-xl p-6 shadow-lg ${stat.bg} ${stat.text}`}>\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"text-sm font-semibold opacity-90\">{stat.label}</div>\r\n                <div className=\"text-2xl\">{stat.icon}</div>\r\n              </div>\r\n              <div className=\"text-3xl font-bold\">{stat.value}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Main Content Grid */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n          {/* Left Column - Quick Actions & Recent Activity */}\r\n          <div className=\"lg:col-span-2 space-y-8\">\r\n            {/* Quick Actions */}\r\n            <div className=\"bg-[#131A22] rounded-xl border border-[#232F3E] p-6\">\r\n              <h3 className=\"text-xl font-bold text-white mb-6\">Quick Actions</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {user.role === 'provider' ? (\r\n                  <>\r\n                    <Link href=\"/services/create\" \r\n                      className=\"group p-4 rounded-lg bg-[#FEBD69] hover:bg-[#e5a958] transition text-center\"\r\n                    >\r\n                      <div className=\"text-2xl mb-2\">‚ûï</div>\r\n                      <div className=\"font-semibold text-[#131A22]\">Add New Service</div>\r\n                    </Link>\r\n                    <Link href=\"/marketplace\"\r\n                      className=\"group p-4 rounded-lg bg-[#232F3E] hover:bg-[#2d3a4a] transition text-center border border-[#37475A]\"\r\n                    >\r\n                      <div className=\"text-2xl mb-2 text-white\">üè™</div>\r\n                      <div className=\"font-semibold text-white\">View Marketplace</div>\r\n                    </Link>\r\n                    <button\r\n                      onClick={() => setActiveTab('bookings')}\r\n                      className=\"group p-4 rounded-lg bg-[#37475A] hover:bg-[#455768] transition text-center border border-[#455768] w-full\"\r\n                    >\r\n                      <div className=\"text-2xl mb-2 text-white\">üìÖ</div>\r\n                      <div className=\"font-semibold text-white\">Manage Bookings</div>\r\n                    </button>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Link href=\"/\"\r\n                      className=\"group p-4 rounded-lg bg-[#FEBD69] hover:bg-[#e5a958] transition text-center\"\r\n                    >\r\n                      <div className=\"text-2xl mb-2\">üîç</div>\r\n                      <div className=\"font-semibold text-[#131A22]\">Browse Services</div>\r\n                    </Link>\r\n                    <button\r\n                      onClick={() => setActiveTab('bookings')}\r\n                      className=\"group p-4 rounded-lg bg-[#232F3E] hover:bg-[#2d3a4a] transition text-center border border-[#37475A] w-full\"\r\n                    >\r\n                      <div className=\"text-2xl mb-2 text-white\">üìÖ</div>\r\n                      <div className=\"font-semibold text-white\">My Bookings</div>\r\n                    </button>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Recent Activity */}\r\n            <div className=\"bg-[#131A22] rounded-xl border border-[#232F3E] p-6\">\r\n              <h3 className=\"text-xl font-bold text-white mb-6\">Recent Activity</h3>\r\n              {bookings.length === 0 ? (\r\n                <div className=\"text-center py-8\">\r\n                  <div className=\"text-4xl mb-4\">üì≠</div>\r\n                  <p className=\"text-lg font-semibold text-white mb-2\">No bookings yet</p>\r\n                  {user.role === 'customer' && (\r\n                    <Link href=\"/marketplace\" className=\"inline-block mt-4 px-6 py-3 rounded-lg font-semibold text-[#131A22] bg-[#FEBD69] hover:bg-[#e5a958] transition\">\r\n                      Browse Services ‚Üí\r\n                    </Link>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {bookings.slice(0, 5).map(booking => (\r\n                    <div key={booking.id} className=\"flex items-center justify-between p-4 rounded-lg bg-[#232F3E] border border-[#37475A] hover:border-[#FEBD69] transition\">\r\n                      <div className=\"flex-1\">\r\n                        <h4 className=\"font-semibold text-white mb-1\">{booking.service_title}</h4>\r\n                        <div className=\"text-sm text-gray-300 space-y-1\">\r\n                          <p>üìÖ {formatDateTime(booking.booking_date, booking.booking_time).date} ‚Ä¢ üïê {formatDateTime(booking.booking_date, booking.booking_time).time}</p>\r\n                          <p>{user.role === 'provider' ? `üë§ ${booking.customer_name}` : `üõ†Ô∏è ${booking.provider_name}`}</p>\r\n                        </div>\r\n                      </div>\r\n                      <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                        booking.status === 'confirmed' ? 'bg-green-900 text-green-200' :\r\n                        booking.status === 'completed' ? 'bg-blue-900 text-blue-200' :\r\n                        booking.status === 'cancelled' ? 'bg-red-900 text-red-200' :\r\n                        'bg-yellow-900 text-yellow-200'\r\n                      }`}>\r\n                        {booking.status.toUpperCase()}\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right Column - Tabs Navigation */}\r\n          <div className=\"space-y-8\">\r\n            {/* Tabs Navigation */}\r\n            <div className=\"bg-[#131A22] rounded-xl border border-[#232F3E] p-6\">\r\n              <h3 className=\"text-xl font-bold text-white mb-4\">Navigation</h3>\r\n              <div className=\"space-y-2\">\r\n                {[\r\n                  { id: 'overview', label: 'üìä Overview', active: activeTab === 'overview' },\r\n                  ...(user.role === 'provider' ? [{ id: 'services', label: `üõ†Ô∏è My Services (${services.length})`, active: activeTab === 'services' }] : []),\r\n                  { id: 'bookings', label: `üìÖ ${user.role === 'provider' ? 'Bookings Received' : 'My Bookings'} (${bookings.length})`, active: activeTab === 'bookings' }\r\n                ].map(tab => (\r\n                  <button\r\n                    key={tab.id}\r\n                    onClick={() => {\r\n                      setActiveTab(tab.id);\r\n                      setTimeout(() => {\r\n                        document.getElementById(tab.id)?.scrollIntoView({ behavior: 'smooth' });\r\n                      }, 100);\r\n                    }}\r\n                    className={`w-full text-left p-3 rounded-lg transition ${\r\n                      tab.active\r\n                        ? 'bg-[#FEBD69] text-[#131A22] font-semibold'\r\n                        : 'text-gray-300 hover:bg-[#232F3E] hover:text-white'\r\n                    }`}\r\n                  >\r\n                    {tab.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Additional Info Card */}\r\n            <div className=\"bg-[#131A22] rounded-xl border border-[#232F3E] p-6\">\r\n              <h3 className=\"text-xl font-bold text-white mb-4\">Need Help?</h3>\r\n              <p className=\"text-gray-300 mb-4\">\r\n                {user.role === 'provider' \r\n                  ? 'Get tips on growing your service business and attracting more customers.'\r\n                  : 'Learn how to book services and manage your appointments effectively.'\r\n                }\r\n              </p>\r\n              <Link href=\"/guide\" className=\"block w-full p-3 rounded-lg bg-[#FEBD69] text-[#131A22] hover:bg-[#e5a958] transition font-semibold text-center\">\r\n                View Guide ‚Üí\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Services Tab Content */}\r\n        {activeTab === 'services' && user.role === 'provider' && (\r\n          <div id=\"services\" className=\"mt-8 bg-[#131A22] rounded-xl border border-[#232F3E] p-6\">\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n              <h3 className=\"text-2xl font-bold text-white\">My Services</h3>\r\n              <Link href=\"/services/create\" \r\n                className=\"px-6 py-3 rounded-lg font-semibold text-[#131A22] bg-[#FEBD69] hover:bg-[#e5a958] transition\"\r\n              >\r\n                ‚ûï Add Service\r\n              </Link>\r\n            </div>\r\n            {services.length === 0 ? (\r\n              <div className=\"text-center py-12\">\r\n                <div className=\"text-5xl mb-4\">üîß</div>\r\n                <h4 className=\"text-xl font-bold text-white mb-2\">No services yet</h4>\r\n                <p className=\"text-gray-300 mb-6\">Create your first service to start receiving bookings</p>\r\n                <Link href=\"/services/create\" \r\n                  className=\"inline-block px-6 py-3 rounded-lg font-semibold text-[#131A22] bg-[#FEBD69] hover:bg-[#e5a958] transition\"\r\n                >\r\n                  Create Your First Service ‚Üí\r\n                </Link>\r\n              </div>\r\n            ) : (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                {services.map(service => (\r\n                  <div key={service.id} className=\"bg-[#232F3E] border border-[#37475A] rounded-xl p-6 hover:border-[#FEBD69] transition\">\r\n                    <h4 className=\"text-lg font-bold text-white mb-2\">{service.title}</h4>\r\n                    <span className=\"inline-block px-3 py-1 rounded-full text-xs font-semibold bg-[#FEBD69] text-[#131A22] mb-3\">\r\n                      {service.category}\r\n                    </span>\r\n                    <p className=\"text-gray-300 mb-4 line-clamp-2\">{service.description}</p>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"text-xl font-bold text-[#FEBD69]\">‚Ç±{service.hourly_rate}/hr</div>\r\n                      <Link href={`/services/${service.id}`}\r\n                        className=\"px-4 py-2 rounded-lg font-semibold text-[#131A22] bg-[#FEBD69] hover:bg-[#e5a958] transition\"\r\n                      >\r\n                        View\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Bookings Tab Content */}\r\n        {activeTab === 'bookings' && (\r\n          <div id=\"bookings\" className=\"mt-8 bg-[#131A22] rounded-xl border border-[#232F3E] overflow-hidden\">\r\n            <div className=\"p-6 border-b border-[#232F3E]\">\r\n              <h3 className=\"text-2xl font-bold text-white\">\r\n                {user.role === 'provider' ? 'Bookings Received' : 'My Bookings'}\r\n              </h3>\r\n            </div>\r\n            {bookings.length === 0 ? (\r\n              <div className=\"p-12 text-center\">\r\n                <div className=\"text-5xl mb-4\">üìÖ</div>\r\n                <p className=\"text-lg font-semibold text-white\">No bookings yet</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-[#232F3E]\">\r\n                    <tr>\r\n                      <th className=\"px-6 py-4 text-left text-sm font-semibold text-white\">Service</th>\r\n                      <th className=\"px-6 py-4 text-left text-sm font-semibold text-white\">\r\n                        {user.role === 'provider' ? 'Customer' : 'Provider'}\r\n                      </th>\r\n                      <th className=\"px-6 py-4 text-left text-sm font-semibold text-white\">Date & Time</th>\r\n                      <th className=\"px-6 py-4 text-left text-sm font-semibold text-white\">Status</th>\r\n                      {user.role === 'provider' && (\r\n                        <th className=\"px-6 py-4 text-left text-sm font-semibold text-white\">Actions</th>\r\n                      )}\r\n                      {user.role === 'customer' && bookings.some(b => b.status === 'completed') && (\r\n                        <>\r\n                          <th className=\"px-6 py-4 text-left text-sm font-semibold text-white\">Work Photos</th>\r\n                          <th className=\"px-6 py-4 text-left text-sm font-semibold text-white\">Review</th>\r\n                        </>\r\n                      )}\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"divide-y divide-[#232F3E]\">\r\n                    {bookings.map(booking => (\r\n                      <tr key={booking.id} className=\"hover:bg-[#232F3E] transition\">\r\n                        <td className=\"px-6 py-4\">\r\n                          <div className=\"font-semibold text-white\">{booking.service_title}</div>\r\n                          {booking.notes && (\r\n                            <div className=\"text-sm text-gray-300 mt-1\">Note: {booking.notes}</div>\r\n                          )}\r\n                        </td>\r\n                        <td className=\"px-6 py-4\">\r\n                          <div className=\"font-semibold text-white\">\r\n                            {user.role === 'provider' ? booking.customer_name : booking.provider_name}\r\n                          </div>\r\n                          <div className=\"text-sm text-gray-300\">\r\n                            {user.role === 'provider' ? booking.customer_email : booking.provider_email}\r\n                          </div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4\">\r\n                          <div className=\"font-semibold text-white\">{formatDateTime(booking.booking_date, booking.booking_time).date}</div>\r\n                          <div className=\"text-sm text-gray-300\">{formatDateTime(booking.booking_date, booking.booking_time).time}</div>\r\n                        </td>\r\n                        <td className=\"px-6 py-4\">\r\n                          <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                            booking.status === 'confirmed' ? 'bg-green-900 text-green-200' :\r\n                            booking.status === 'completed' ? 'bg-blue-900 text-blue-200' :\r\n                            booking.status === 'cancelled' ? 'bg-red-900 text-red-200' :\r\n                            'bg-yellow-900 text-yellow-200'\r\n                          }`}>\r\n                            {booking.status.toUpperCase()}\r\n                          </span>\r\n                        </td>\r\n                        {user.role === 'provider' && (\r\n                          <td className=\"px-6 py-4\">\r\n                            {booking.status === 'pending' && (\r\n                              <div className=\"flex gap-2\">\r\n                                <button\r\n                                  onClick={() => handleStatusUpdate(booking.id, 'confirmed')}\r\n                                  className=\"px-3 py-1 rounded text-sm font-semibold bg-green-600 text-white hover:bg-green-700 transition\"\r\n                                >\r\n                                  Confirm\r\n                                </button>\r\n                                <button\r\n                                  onClick={() => handleStatusUpdate(booking.id, 'cancelled')}\r\n                                  className=\"px-3 py-1 rounded text-sm font-semibold bg-red-600 text-white hover:bg-red-700 transition\"\r\n                                >\r\n                                  Cancel\r\n                                </button>\r\n                              </div>\r\n                            )}\r\n                            {booking.status === 'confirmed' && (\r\n                              <button\r\n                                onClick={() => handleStatusUpdate(booking.id, 'completed')}\r\n                                className=\"px-3 py-1 rounded text-sm font-semibold text-[#131A22] bg-[#FEBD69] hover:bg-[#e5a958] transition\"\r\n                              >\r\n                                Complete\r\n                              </button>\r\n                            )}\r\n                            {booking.status === 'completed' && (\r\n                              <div className=\"space-y-2\">\r\n                                <div className=\"text-xs text-gray-400 mb-2\">Work Photos</div>\r\n                                <input\r\n                                  type=\"file\"\r\n                                  accept=\"image/*\"\r\n                                  onChange={(e) => handlePhotoUpload(booking.id, e.target.files[0])}\r\n                                  className=\"text-xs text-gray-300 file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-[#FEBD69] file:text-[#131A22] hover:file:bg-[#e5a958]\"\r\n                                  disabled={uploadingPhotos[booking.id]}\r\n                                />\r\n                                {uploadingPhotos[booking.id] && (\r\n                                  <div className=\"text-xs text-[#FEBD69]\">Uploading...</div>\r\n                                )}\r\n                                {workPhotos[booking.id] && workPhotos[booking.id].length > 0 && (\r\n                                  <div className=\"text-xs text-green-400\">\r\n                                    {workPhotos[booking.id].length} photo{workPhotos[booking.id].length !== 1 ? 's' : ''} uploaded\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            )}\r\n                          </td>\r\n                        )}\r\n                        {user.role === 'customer' && bookings.some(b => b.status === 'completed') && (\r\n                          <>\r\n                            <td className=\"px-6 py-4\">\r\n                              {booking.status === 'completed' && workPhotos[booking.id] && workPhotos[booking.id].length > 0 ? (\r\n                                <div className=\"flex gap-2 flex-wrap\">\r\n                                  {workPhotos[booking.id].slice(0, 3).map((photo, index) => (\r\n                                    <img\r\n                                      key={index}\r\n                                      src={photo.photo_url}\r\n                                      alt={`Work photo ${index + 1}`}\r\n                                      className=\"w-12 h-12 rounded-lg object-cover border border-[#37475A] hover:border-[#FEBD69] transition cursor-pointer\"\r\n                                      onClick={() => window.open(photo.photo_url, '_blank')}\r\n                                    />\r\n                                  ))}\r\n                                  {workPhotos[booking.id].length > 3 && (\r\n                                    <div className=\"w-12 h-12 rounded-lg bg-[#232F3E] border border-[#37475A] flex items-center justify-center text-xs text-gray-300\">\r\n                                      +{workPhotos[booking.id].length - 3}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              ) : booking.status === 'completed' ? (\r\n                                <div className=\"text-xs text-gray-400\">No photos yet</div>\r\n                              ) : null}\r\n                            </td>\r\n                            <td className=\"px-6 py-4\">\r\n                              {booking.status === 'completed' && (\r\n                                <button\r\n                                  onClick={() => setReviewModal({ open: true, booking })}\r\n                                  className=\"px-3 py-1 rounded text-sm font-semibold text-[#131A22] bg-[#FEBD69] hover:bg-[#e5a958] transition\"\r\n                                >\r\n                                  Review\r\n                                </button>\r\n                              )}\r\n                            </td>\r\n                          </>\r\n                        )}\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Messages Tab Content */}\r\n        {activeTab === 'messages' && (\r\n          <div id=\"messages\" className=\"mt-8 bg-[#131A22] rounded-xl border border-[#232F3E] overflow-hidden\">\r\n            <div className=\"p-6 border-b border-[#232F3E]\">\r\n              <h3 className=\"text-2xl font-bold text-white\">Messages</h3>\r\n            </div>\r\n            <div className=\"flex h-96\">\r\n              {/* Conversations List */}\r\n              <div className=\"w-1/3 border-r border-[#232F3E]\">\r\n                <div className=\"p-4 border-b border-[#232F3E]\">\r\n                  <h4 className=\"text-lg font-semibold text-white\">Conversations</h4>\r\n                </div>\r\n                <div className=\"overflow-y-auto h-full\">\r\n                  {conversations.length === 0 ? (\r\n                    <div className=\"p-4 text-center text-gray-400\">\r\n                      No conversations yet\r\n                    </div>\r\n                  ) : (\r\n                    conversations.map((conversation, index) => (\r\n                      <button\r\n                        key={`${conversation.other_user_id}-${index}`}\r\n                        onClick={() => {\r\n                          setSelectedConversation(conversation);\r\n                          fetchMessages(conversation.other_user_id);\r\n                        }}\r\n                        className={`w-full p-4 text-left hover:bg-[#232F3E] transition ${\r\n                          selectedConversation?.other_user_id === conversation.other_user_id ? 'bg-[#FEBD69] text-[#131A22]' : 'text-white'\r\n                        }`}\r\n                      >\r\n                        <div className=\"font-semibold\">{conversation.other_user_name}</div>\r\n                        <div className=\"text-sm opacity-75 truncate\">{conversation.last_message}</div>\r\n                      </button>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Messages Area */}\r\n              <div className=\"flex-1 flex flex-col\">\r\n                {selectedConversation ? (\r\n                  <>\r\n                    <div className=\"p-4 border-b border-[#232F3E]\">\r\n                      <h4 className=\"text-lg font-semibold text-white\">{selectedConversation.other_user_name}</h4>\r\n                    </div>\r\n                    <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n                      {messages.map(message => (\r\n                        <div\r\n                          key={message.id}\r\n                          className={`flex ${message.sender_id === user.id ? 'justify-end' : 'justify-start'}`}\r\n                        >\r\n                          <div\r\n                            className={`max-w-xs px-4 py-2 rounded-lg ${\r\n                              message.sender_id === user.id\r\n                                ? 'bg-[#FEBD69] text-[#131A22]'\r\n                                : 'bg-[#232F3E] text-white'\r\n                            }`}\r\n                          >\r\n                            <p>{message.message}</p>\r\n                            <p className=\"text-xs opacity-75 mt-1\">\r\n                              {new Date(message.created_at).toLocaleString()}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                    <form onSubmit={handleSendMessage} className=\"p-4 border-t border-[#232F3E]\">\r\n                      <div className=\"flex gap-2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          value={newMessage}\r\n                          onChange={(e) => setNewMessage(e.target.value)}\r\n                          placeholder=\"Type a message...\"\r\n                          className=\"flex-1 p-3 rounded-lg bg-[#232F3E] border border-[#37475A] text-white placeholder-gray-400 focus:border-[#FEBD69] focus:outline-none\"\r\n                          disabled={sendingMessage}\r\n                        />\r\n                        <button\r\n                          type=\"submit\"\r\n                          disabled={sendingMessage || !newMessage.trim()}\r\n                          className=\"px-6 py-3 rounded-lg font-semibold text-[#131A22] bg-[#FEBD69] hover:bg-[#e5a958] transition disabled:opacity-50\"\r\n                        >\r\n                          {sendingMessage ? 'Sending...' : 'Send'}\r\n                        </button>\r\n                      </div>\r\n                    </form>\r\n                  </>\r\n                ) : (\r\n                  <div className=\"flex-1 flex items-center justify-center text-gray-400\">\r\n                    Select a conversation to start messaging\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Review Modal */}\r\n        {reviewModal.open && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n            <div className=\"bg-[#131A22] rounded-xl border border-[#232F3E] p-6 max-w-md w-full mx-4\">\r\n              <h3 className=\"text-xl font-bold text-white mb-4\">Leave a Review</h3>\r\n              <form onSubmit={handleReviewSubmit}>\r\n                <div className=\"mb-4\">\r\n                  <label className=\"block text-sm font-semibold text-white mb-2\">Rating</label>\r\n                  <div className=\"flex gap-1\">\r\n                    {[1, 2, 3, 4, 5].map((star) => (\r\n                      <button\r\n                        key={star}\r\n                        type=\"button\"\r\n                        onClick={() => setReviewData(prev => ({ ...prev, rating: star }))}\r\n                        className={`text-2xl ${star <= reviewData.rating ? 'text-[#FEBD69]' : 'text-gray-400'} hover:text-[#FEBD69] transition`}\r\n                      >\r\n                        ‚òÖ\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                <div className=\"mb-6\">\r\n                  <label className=\"block text-sm font-semibold text-white mb-2\">Comment</label>\r\n                  <textarea\r\n                    value={reviewData.comment}\r\n                    onChange={(e) => setReviewData(prev => ({ ...prev, comment: e.target.value }))}\r\n                    className=\"w-full p-3 rounded-lg bg-[#232F3E] border border-[#37475A] text-white placeholder-gray-400 focus:border-[#FEBD69] focus:outline-none\"\r\n                    rows=\"4\"\r\n                    placeholder=\"Share your experience...\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"flex gap-3\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setReviewModal({ open: false, booking: null })}\r\n                    className=\"flex-1 px-4 py-2 rounded-lg font-semibold text-white bg-[#232F3E] hover:bg-[#2d3a4a] transition\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={submittingReview}\r\n                    className=\"flex-1 px-4 py-2 rounded-lg font-semibold text-[#131A22] bg-[#FEBD69] hover:bg-[#e5a958] transition disabled:opacity-50\"\r\n                  >\r\n                    {submittingReview ? 'Submitting...' : 'Submit Review'}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}