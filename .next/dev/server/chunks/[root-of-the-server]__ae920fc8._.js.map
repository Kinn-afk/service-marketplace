{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zero1/service-marketplace/lib/db.js"],"sourcesContent":["import mysql from 'mysql2/promise';\r\n\r\nconst pool = mysql.createPool({\r\n  host: 'localhost',\r\n  user: 'root',\r\n  password: '', \r\n  database: 'service_marketplace',\r\n  waitForConnections: true,\r\n  connectionLimit: 10,\r\n  queueLimit: 0\r\n});\r\n\r\nexport default pool;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,OAAO,wKAAK,CAAC,UAAU,CAAC;IAC5B,MAAM;IACN,MAAM;IACN,UAAU;IACV,UAAU;IACV,oBAAoB;IACpB,iBAAiB;IACjB,YAAY;AACd;uCAEe"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zero1/service-marketplace/app/api/reviews/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport db from '@/lib/db';\r\n\r\nexport async function GET(request) {\r\n  try {\r\n    const { searchParams } = new URL(request.url);\r\n    const providerId = searchParams.get('providerId');\r\n\r\n    if (!providerId) {\r\n      return NextResponse.json({ reviews: [] });\r\n    }\r\n\r\n    const [reviews] = await db.execute(`\r\n      SELECT r.*, u.name as customer_name, u.profile_image\r\n      FROM reviews r\r\n      JOIN users u ON r.customer_id = u.id\r\n      WHERE r.provider_id = ?\r\n      ORDER BY r.created_at DESC\r\n    `, [providerId]);\r\n\r\n    return NextResponse.json({ reviews });\r\n  } catch (error) {\r\n    console.error('Reviews fetch error:', error);\r\n    return NextResponse.json({ reviews: [] });\r\n  }\r\n}\r\n\r\nexport async function POST(request) {\r\n  try {\r\n    const { booking_id, customer_id, provider_id, rating, comment } = await request.json();\r\n\r\n    if (!booking_id || !rating || rating < 1 || rating > 5) {\r\n      return NextResponse.json({ error: 'Invalid data' }, { status: 400 });\r\n    }\r\n\r\n    const [result] = await db.execute(\r\n      'INSERT INTO reviews (booking_id, customer_id, provider_id, rating, comment) VALUES (?, ?, ?, ?, ?)',\r\n      [booking_id, customer_id, provider_id, rating, comment || '']\r\n    );\r\n\r\n    return NextResponse.json({ message: 'Review created', reviewId: result.insertId }, { status: 201 });\r\n  } catch (error) {\r\n    console.error('Review creation error:', error);\r\n    return NextResponse.json({ error: 'Failed to create review' }, { status: 500 });\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAO;IAC/B,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,aAAa,aAAa,GAAG,CAAC;QAEpC,IAAI,CAAC,YAAY;YACf,OAAO,0KAAY,CAAC,IAAI,CAAC;gBAAE,SAAS,EAAE;YAAC;QACzC;QAEA,MAAM,CAAC,QAAQ,GAAG,MAAM,gJAAE,CAAC,OAAO,CAAC,CAAC;;;;;;IAMpC,CAAC,EAAE;YAAC;SAAW;QAEf,OAAO,0KAAY,CAAC,IAAI,CAAC;YAAE;QAAQ;IACrC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,0KAAY,CAAC,IAAI,CAAC;YAAE,SAAS,EAAE;QAAC;IACzC;AACF;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpF,IAAI,CAAC,cAAc,CAAC,UAAU,SAAS,KAAK,SAAS,GAAG;YACtD,OAAO,0KAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAe,GAAG;gBAAE,QAAQ;YAAI;QACpE;QAEA,MAAM,CAAC,OAAO,GAAG,MAAM,gJAAE,CAAC,OAAO,CAC/B,sGACA;YAAC;YAAY;YAAa;YAAa;YAAQ,WAAW;SAAG;QAG/D,OAAO,0KAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAkB,UAAU,OAAO,QAAQ;QAAC,GAAG;YAAE,QAAQ;QAAI;IACnG,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,0KAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA0B,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACF"}}]
}