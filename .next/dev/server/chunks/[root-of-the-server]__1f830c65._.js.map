{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zero1/service-marketplace/lib/db.js"],"sourcesContent":["import mysql from 'mysql2/promise';\r\n\r\nconst pool = mysql.createPool({\r\n  host: 'localhost',\r\n  user: 'root',\r\n  password: '', \r\n  database: 'service_marketplace',\r\n  waitForConnections: true,\r\n  connectionLimit: 10,\r\n  queueLimit: 0\r\n});\r\n\r\nexport default pool;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,OAAO,wKAAK,CAAC,UAAU,CAAC;IAC5B,MAAM;IACN,MAAM;IACN,UAAU;IACV,UAAU;IACV,oBAAoB;IACpB,iBAAiB;IACjB,YAAY;AACd;uCAEe"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zero1/service-marketplace/app/api/users/%5Bid%5D/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport db from '@/lib/db';\r\n\r\nexport async function GET(request, { params }) {\r\n  try {\r\n    const { id: userId } = await params;\r\n\r\n    if (!userId) {\r\n      return NextResponse.json({ error: 'User ID required' }, { status: 400 });\r\n    }\r\n\r\n    // Get user profile\r\n    const [rows] = await db.execute(\r\n      'SELECT id, email, name, phone, role, profile_image, created_at FROM users WHERE id = ?',\r\n      [userId]\r\n    );\r\n\r\n    if (rows.length === 0) {\r\n      return NextResponse.json({ error: 'User not found' }, { status: 404 });\r\n    }\r\n\r\n    const user = rows[0];\r\n\r\n    // Get user's services if they are a provider\r\n    let services = [];\r\n    if (user.role === 'provider') {\r\n      const [serviceRows] = await db.execute(\r\n        'SELECT id, title, category, description, hourly_rate, created_at FROM services WHERE provider_id = ? ORDER BY created_at DESC',\r\n        [userId]\r\n      );\r\n      services = serviceRows;\r\n    }\r\n\r\n    // Get user's reviews if they are a provider\r\n    let reviews = [];\r\n    if (user.role === 'provider') {\r\n      const [reviewRows] = await db.execute(`\r\n        SELECT r.*, u.name as customer_name, u.profile_image as customer_image\r\n        FROM reviews r\r\n        JOIN users u ON r.customer_id = u.id\r\n        WHERE r.provider_id = ?\r\n        ORDER BY r.created_at DESC\r\n      `, [userId]);\r\n      reviews = reviewRows;\r\n    }\r\n\r\n    return NextResponse.json({\r\n      user,\r\n      services,\r\n      reviews\r\n    });\r\n  } catch (error) {\r\n    console.error('Get user profile error:', error);\r\n    return NextResponse.json({ error: 'Failed to get user profile' }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAO,EAAE,EAAE,MAAM,EAAE;IAC3C,IAAI;QACF,MAAM,EAAE,IAAI,MAAM,EAAE,GAAG,MAAM;QAE7B,IAAI,CAAC,QAAQ;YACX,OAAO,0KAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAmB,GAAG;gBAAE,QAAQ;YAAI;QACxE;QAEA,mBAAmB;QACnB,MAAM,CAAC,KAAK,GAAG,MAAM,gJAAE,CAAC,OAAO,CAC7B,0FACA;YAAC;SAAO;QAGV,IAAI,KAAK,MAAM,KAAK,GAAG;YACrB,OAAO,0KAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAiB,GAAG;gBAAE,QAAQ;YAAI;QACtE;QAEA,MAAM,OAAO,IAAI,CAAC,EAAE;QAEpB,6CAA6C;QAC7C,IAAI,WAAW,EAAE;QACjB,IAAI,KAAK,IAAI,KAAK,YAAY;YAC5B,MAAM,CAAC,YAAY,GAAG,MAAM,gJAAE,CAAC,OAAO,CACpC,iIACA;gBAAC;aAAO;YAEV,WAAW;QACb;QAEA,4CAA4C;QAC5C,IAAI,UAAU,EAAE;QAChB,IAAI,KAAK,IAAI,KAAK,YAAY;YAC5B,MAAM,CAAC,WAAW,GAAG,MAAM,gJAAE,CAAC,OAAO,CAAC,CAAC;;;;;;MAMvC,CAAC,EAAE;gBAAC;aAAO;YACX,UAAU;QACZ;QAEA,OAAO,0KAAY,CAAC,IAAI,CAAC;YACvB;YACA;YACA;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,0KAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA6B,GAAG;YAAE,QAAQ;QAAI;IAClF;AACF"}}]
}