{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/zero1/service-marketplace/lib/db.js"],"sourcesContent":["import mysql from 'mysql2/promise';\r\n\r\nconst pool = mysql.createPool({\r\n  host: 'localhost',\r\n  user: 'root',\r\n  password: '', \r\n  database: 'service_marketplace',\r\n  waitForConnections: true,\r\n  connectionLimit: 10,\r\n  queueLimit: 0\r\n});\r\n\r\nexport default pool;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,OAAO,8IAAK,CAAC,UAAU,CAAC;IAC5B,MAAM;IACN,MAAM;IACN,UAAU;IACV,UAAU;IACV,oBAAoB;IACpB,iBAAiB;IACjB,YAAY;AACd;uCAEe"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/zero1/service-marketplace/app/api/services/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport db from '@/lib/db';\r\n\r\nexport async function GET() {\r\n  try {\r\n    const [services] = await db.execute(`\r\n      SELECT s.*, u.name as provider_name, u.profile_image, u.phone\r\n      FROM services s\r\n      JOIN users u ON s.provider_id = u.id\r\n      ORDER BY s.created_at DESC\r\n    `);\r\n    return NextResponse.json({ services });\r\n  } catch (error) {\r\n    console.error('Services GET error:', error);\r\n    return NextResponse.json({ error: 'Failed to fetch services' }, { status: 500 });\r\n  }\r\n}\r\n\r\nexport async function POST(request) {\r\n  try {\r\n    const body = await request.json();\r\n    console.log('Received data:', body); // Debug log\r\n    \r\n    const { provider_id, title, description, category, hourly_rate } = body;\r\n\r\n    if (!provider_id || !title || !hourly_rate) {\r\n      console.error('Missing fields:', { provider_id, title, hourly_rate });\r\n      return NextResponse.json({ error: 'Missing required fields' }, { status: 400 });\r\n    }\r\n\r\n    const [result] = await db.execute(\r\n      'INSERT INTO services (provider_id, title, description, category, hourly_rate) VALUES (?, ?, ?, ?, ?)',\r\n      [provider_id, title, description || '', category || '', parseFloat(hourly_rate)]\r\n    );\r\n\r\n    console.log('Service created with ID:', result.insertId); // Debug log\r\n    return NextResponse.json({ message: 'Service created', serviceId: result.insertId }, { status: 201 });\r\n  } catch (error) {\r\n    console.error('Service creation error:', error);\r\n    return NextResponse.json({ \r\n      error: 'Failed to create service: ' + error.message \r\n    }, { status: 500 });\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,CAAC,SAAS,GAAG,MAAM,sHAAE,CAAC,OAAO,CAAC,CAAC;;;;;IAKrC,CAAC;QACD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAS;IACtC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAChF;AACF;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,QAAQ,GAAG,CAAC,kBAAkB,OAAO,YAAY;QAEjD,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG;QAEnE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,aAAa;YAC1C,QAAQ,KAAK,CAAC,mBAAmB;gBAAE;gBAAa;gBAAO;YAAY;YACnE,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA0B,GAAG;gBAAE,QAAQ;YAAI;QAC/E;QAEA,MAAM,CAAC,OAAO,GAAG,MAAM,sHAAE,CAAC,OAAO,CAC/B,wGACA;YAAC;YAAa;YAAO,eAAe;YAAI,YAAY;YAAI,WAAW;SAAa;QAGlF,QAAQ,GAAG,CAAC,4BAA4B,OAAO,QAAQ,GAAG,YAAY;QACtE,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAmB,WAAW,OAAO,QAAQ;QAAC,GAAG;YAAE,QAAQ;QAAI;IACrG,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,OAAO,+BAA+B,MAAM,OAAO;QACrD,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF"}}]
}